import{c as Ur,i as Sr,b as se,g as fe}from"./index-DGQi_lMM.js";function ce(n,o){for(var s=0;s<o.length;s++){const p=o[s];if(typeof p!="string"&&!Array.isArray(p)){for(const d in p)if(d!=="default"&&!(d in n)){const h=Object.getOwnPropertyDescriptor(p,d);h&&Object.defineProperty(n,d,h.get?h:{enumerable:!0,get:()=>p[d]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}var Z={},Nr={},tr={};tr.byteLength=pe;tr.toByteArray=ye;tr.fromByteArray=me;var b=[],M=[],he=typeof Uint8Array<"u"?Uint8Array:Array,ur="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var J=0,le=ur.length;J<le;++J)b[J]=ur[J],M[ur.charCodeAt(J)]=J;M[45]=62;M[95]=63;function _r(n){var o=n.length;if(o%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var s=n.indexOf("=");s===-1&&(s=o);var p=s===o?0:4-s%4;return[s,p]}function pe(n){var o=_r(n),s=o[0],p=o[1];return(s+p)*3/4-p}function de(n,o,s){return(o+s)*3/4-s}function ye(n){var o,s=_r(n),p=s[0],d=s[1],h=new he(de(n,p,d)),l=0,u=d>0?p-4:p,y;for(y=0;y<u;y+=4)o=M[n.charCodeAt(y)]<<18|M[n.charCodeAt(y+1)]<<12|M[n.charCodeAt(y+2)]<<6|M[n.charCodeAt(y+3)],h[l++]=o>>16&255,h[l++]=o>>8&255,h[l++]=o&255;return d===2&&(o=M[n.charCodeAt(y)]<<2|M[n.charCodeAt(y+1)]>>4,h[l++]=o&255),d===1&&(o=M[n.charCodeAt(y)]<<10|M[n.charCodeAt(y+1)]<<4|M[n.charCodeAt(y+2)]>>2,h[l++]=o>>8&255,h[l++]=o&255),h}function we(n){return b[n>>18&63]+b[n>>12&63]+b[n>>6&63]+b[n&63]}function ge(n,o,s){for(var p,d=[],h=o;h<s;h+=3)p=(n[h]<<16&16711680)+(n[h+1]<<8&65280)+(n[h+2]&255),d.push(we(p));return d.join("")}function me(n){for(var o,s=n.length,p=s%3,d=[],h=16383,l=0,u=s-p;l<u;l+=h)d.push(ge(n,l,l+h>u?u:l+h));return p===1?(o=n[s-1],d.push(b[o>>2]+b[o<<4&63]+"==")):p===2&&(o=(n[s-2]<<8)+n[s-1],d.push(b[o>>10]+b[o>>4&63]+b[o<<2&63]+"=")),d.join("")}var hr={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */hr.read=function(n,o,s,p,d){var h,l,u=d*8-p-1,y=(1<<u)-1,U=y>>1,g=-7,m=s?d-1:0,v=s?-1:1,E=n[o+m];for(m+=v,h=E&(1<<-g)-1,E>>=-g,g+=u;g>0;h=h*256+n[o+m],m+=v,g-=8);for(l=h&(1<<-g)-1,h>>=-g,g+=p;g>0;l=l*256+n[o+m],m+=v,g-=8);if(h===0)h=1-U;else{if(h===y)return l?NaN:(E?-1:1)*(1/0);l=l+Math.pow(2,p),h=h-U}return(E?-1:1)*l*Math.pow(2,h-p)};hr.write=function(n,o,s,p,d,h){var l,u,y,U=h*8-d-1,g=(1<<U)-1,m=g>>1,v=d===23?Math.pow(2,-24)-Math.pow(2,-77):0,E=p?0:h-1,C=p?1:-1,S=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(u=isNaN(o)?1:0,l=g):(l=Math.floor(Math.log(o)/Math.LN2),o*(y=Math.pow(2,-l))<1&&(l--,y*=2),l+m>=1?o+=v/y:o+=v*Math.pow(2,1-m),o*y>=2&&(l++,y/=2),l+m>=g?(u=0,l=g):l+m>=1?(u=(o*y-1)*Math.pow(2,d),l=l+m):(u=o*Math.pow(2,m-1)*Math.pow(2,d),l=0));d>=8;n[s+E]=u&255,E+=C,u/=256,d-=8);for(l=l<<d|u,U+=d;U>0;n[s+E]=l&255,E+=C,l/=256,U-=8);n[s+E-C]|=S*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(n){const o=tr,s=hr,p=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=u,n.SlowBuffer=I,n.INSPECT_MAX_BYTES=50;const d=2147483647;n.kMaxLength=d,u.TYPED_ARRAY_SUPPORT=h(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function h(){try{const t=new Uint8Array(1),r={foo:function(){return 42}};return Object.setPrototypeOf(r,Uint8Array.prototype),Object.setPrototypeOf(t,r),t.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}});function l(t){if(t>d)throw new RangeError('The value "'+t+'" is invalid for option "size"');const r=new Uint8Array(t);return Object.setPrototypeOf(r,u.prototype),r}function u(t,r,e){if(typeof t=="number"){if(typeof r=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return m(t)}return y(t,r,e)}u.poolSize=8192;function y(t,r,e){if(typeof t=="string")return v(t,r);if(ArrayBuffer.isView(t))return C(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(_(t,ArrayBuffer)||t&&_(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(_(t,SharedArrayBuffer)||t&&_(t.buffer,SharedArrayBuffer)))return S(t,r,e);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const i=t.valueOf&&t.valueOf();if(i!=null&&i!==t)return u.from(i,r,e);const a=V(t);if(a)return a;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return u.from(t[Symbol.toPrimitive]("string"),r,e);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}u.from=function(t,r,e){return y(t,r,e)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function U(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function g(t,r,e){return U(t),t<=0?l(t):r!==void 0?typeof e=="string"?l(t).fill(r,e):l(t).fill(r):l(t)}u.alloc=function(t,r,e){return g(t,r,e)};function m(t){return U(t),l(t<0?0:j(t)|0)}u.allocUnsafe=function(t){return m(t)},u.allocUnsafeSlow=function(t){return m(t)};function v(t,r){if((typeof r!="string"||r==="")&&(r="utf8"),!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r);const e=N(t,r)|0;let i=l(e);const a=i.write(t,r);return a!==e&&(i=i.slice(0,a)),i}function E(t){const r=t.length<0?0:j(t.length)|0,e=l(r);for(let i=0;i<r;i+=1)e[i]=t[i]&255;return e}function C(t){if(_(t,Uint8Array)){const r=new Uint8Array(t);return S(r.buffer,r.byteOffset,r.byteLength)}return E(t)}function S(t,r,e){if(r<0||t.byteLength<r)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<r+(e||0))throw new RangeError('"length" is outside of buffer bounds');let i;return r===void 0&&e===void 0?i=new Uint8Array(t):e===void 0?i=new Uint8Array(t,r):i=new Uint8Array(t,r,e),Object.setPrototypeOf(i,u.prototype),i}function V(t){if(u.isBuffer(t)){const r=j(t.length)|0,e=l(r);return e.length===0||t.copy(e,0,0,r),e}if(t.length!==void 0)return typeof t.length!="number"||or(t.length)?l(0):E(t);if(t.type==="Buffer"&&Array.isArray(t.data))return E(t.data)}function j(t){if(t>=d)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+d.toString(16)+" bytes");return t|0}function I(t){return+t!=t&&(t=0),u.alloc(+t)}u.isBuffer=function(r){return r!=null&&r._isBuffer===!0&&r!==u.prototype},u.compare=function(r,e){if(_(r,Uint8Array)&&(r=u.from(r,r.offset,r.byteLength)),_(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(r)||!u.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(r===e)return 0;let i=r.length,a=e.length;for(let f=0,c=Math.min(i,a);f<c;++f)if(r[f]!==e[f]){i=r[f],a=e[f];break}return i<a?-1:a<i?1:0},u.isEncoding=function(r){switch(String(r).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(r,e){if(!Array.isArray(r))throw new TypeError('"list" argument must be an Array of Buffers');if(r.length===0)return u.alloc(0);let i;if(e===void 0)for(e=0,i=0;i<r.length;++i)e+=r[i].length;const a=u.allocUnsafe(e);let f=0;for(i=0;i<r.length;++i){let c=r[i];if(_(c,Uint8Array))f+c.length>a.length?(u.isBuffer(c)||(c=u.from(c)),c.copy(a,f)):Uint8Array.prototype.set.call(a,c,f);else if(u.isBuffer(c))c.copy(a,f);else throw new TypeError('"list" argument must be an Array of Buffers');f+=c.length}return a};function N(t,r){if(u.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||_(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const e=t.length,i=arguments.length>2&&arguments[2]===!0;if(!i&&e===0)return 0;let a=!1;for(;;)switch(r){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":return ir(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return e*2;case"hex":return e>>>1;case"base64":return Ar(t).length;default:if(a)return i?-1:ir(t).length;r=(""+r).toLowerCase(),a=!0}}u.byteLength=N;function G(t,r,e){let i=!1;if((r===void 0||r<0)&&(r=0),r>this.length||((e===void 0||e>this.length)&&(e=this.length),e<=0)||(e>>>=0,r>>>=0,e<=r))return"";for(t||(t="utf8");;)switch(t){case"hex":return Zr(this,r,e);case"utf8":case"utf-8":return yr(this,r,e);case"ascii":return Kr(this,r,e);case"latin1":case"binary":return Qr(this,r,e);case"base64":return zr(this,r,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return re(this,r,e);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}u.prototype._isBuffer=!0;function P(t,r,e){const i=t[r];t[r]=t[e],t[e]=i}u.prototype.swap16=function(){const r=this.length;if(r%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<r;e+=2)P(this,e,e+1);return this},u.prototype.swap32=function(){const r=this.length;if(r%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<r;e+=4)P(this,e,e+3),P(this,e+1,e+2);return this},u.prototype.swap64=function(){const r=this.length;if(r%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<r;e+=8)P(this,e,e+7),P(this,e+1,e+6),P(this,e+2,e+5),P(this,e+3,e+4);return this},u.prototype.toString=function(){const r=this.length;return r===0?"":arguments.length===0?yr(this,0,r):G.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(r){if(!u.isBuffer(r))throw new TypeError("Argument must be a Buffer");return this===r?!0:u.compare(this,r)===0},u.prototype.inspect=function(){let r="";const e=n.INSPECT_MAX_BYTES;return r=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim(),this.length>e&&(r+=" ... "),"<Buffer "+r+">"},p&&(u.prototype[p]=u.prototype.inspect),u.prototype.compare=function(r,e,i,a,f){if(_(r,Uint8Array)&&(r=u.from(r,r.offset,r.byteLength)),!u.isBuffer(r))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof r);if(e===void 0&&(e=0),i===void 0&&(i=r?r.length:0),a===void 0&&(a=0),f===void 0&&(f=this.length),e<0||i>r.length||a<0||f>this.length)throw new RangeError("out of range index");if(a>=f&&e>=i)return 0;if(a>=f)return-1;if(e>=i)return 1;if(e>>>=0,i>>>=0,a>>>=0,f>>>=0,this===r)return 0;let c=f-a,w=i-e;const F=Math.min(c,w),B=this.slice(a,f),A=r.slice(e,i);for(let x=0;x<F;++x)if(B[x]!==A[x]){c=B[x],w=A[x];break}return c<w?-1:w<c?1:0};function pr(t,r,e,i,a){if(t.length===0)return-1;if(typeof e=="string"?(i=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e=+e,or(e)&&(e=a?0:t.length-1),e<0&&(e=t.length+e),e>=t.length){if(a)return-1;e=t.length-1}else if(e<0)if(a)e=0;else return-1;if(typeof r=="string"&&(r=u.from(r,i)),u.isBuffer(r))return r.length===0?-1:dr(t,r,e,i,a);if(typeof r=="number")return r=r&255,typeof Uint8Array.prototype.indexOf=="function"?a?Uint8Array.prototype.indexOf.call(t,r,e):Uint8Array.prototype.lastIndexOf.call(t,r,e):dr(t,[r],e,i,a);throw new TypeError("val must be string, number or Buffer")}function dr(t,r,e,i,a){let f=1,c=t.length,w=r.length;if(i!==void 0&&(i=String(i).toLowerCase(),i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le")){if(t.length<2||r.length<2)return-1;f=2,c/=2,w/=2,e/=2}function F(A,x){return f===1?A[x]:A.readUInt16BE(x*f)}let B;if(a){let A=-1;for(B=e;B<c;B++)if(F(t,B)===F(r,A===-1?0:B-A)){if(A===-1&&(A=B),B-A+1===w)return A*f}else A!==-1&&(B-=B-A),A=-1}else for(e+w>c&&(e=c-w),B=e;B>=0;B--){let A=!0;for(let x=0;x<w;x++)if(F(t,B+x)!==F(r,x)){A=!1;break}if(A)return B}return-1}u.prototype.includes=function(r,e,i){return this.indexOf(r,e,i)!==-1},u.prototype.indexOf=function(r,e,i){return pr(this,r,e,i,!0)},u.prototype.lastIndexOf=function(r,e,i){return pr(this,r,e,i,!1)};function jr(t,r,e,i){e=Number(e)||0;const a=t.length-e;i?(i=Number(i),i>a&&(i=a)):i=a;const f=r.length;i>f/2&&(i=f/2);let c;for(c=0;c<i;++c){const w=parseInt(r.substr(c*2,2),16);if(or(w))return c;t[e+c]=w}return c}function Gr(t,r,e,i){return rr(ir(r,t.length-e),t,e,i)}function Wr(t,r,e,i){return rr(ie(r),t,e,i)}function Yr(t,r,e,i){return rr(Ar(r),t,e,i)}function Jr(t,r,e,i){return rr(oe(r,t.length-e),t,e,i)}u.prototype.write=function(r,e,i,a){if(e===void 0)a="utf8",i=this.length,e=0;else if(i===void 0&&typeof e=="string")a=e,i=this.length,e=0;else if(isFinite(e))e=e>>>0,isFinite(i)?(i=i>>>0,a===void 0&&(a="utf8")):(a=i,i=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const f=this.length-e;if((i===void 0||i>f)&&(i=f),r.length>0&&(i<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");a||(a="utf8");let c=!1;for(;;)switch(a){case"hex":return jr(this,r,e,i);case"utf8":case"utf-8":return Gr(this,r,e,i);case"ascii":case"latin1":case"binary":return Wr(this,r,e,i);case"base64":return Yr(this,r,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Jr(this,r,e,i);default:if(c)throw new TypeError("Unknown encoding: "+a);a=(""+a).toLowerCase(),c=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function zr(t,r,e){return r===0&&e===t.length?o.fromByteArray(t):o.fromByteArray(t.slice(r,e))}function yr(t,r,e){e=Math.min(t.length,e);const i=[];let a=r;for(;a<e;){const f=t[a];let c=null,w=f>239?4:f>223?3:f>191?2:1;if(a+w<=e){let F,B,A,x;switch(w){case 1:f<128&&(c=f);break;case 2:F=t[a+1],(F&192)===128&&(x=(f&31)<<6|F&63,x>127&&(c=x));break;case 3:F=t[a+1],B=t[a+2],(F&192)===128&&(B&192)===128&&(x=(f&15)<<12|(F&63)<<6|B&63,x>2047&&(x<55296||x>57343)&&(c=x));break;case 4:F=t[a+1],B=t[a+2],A=t[a+3],(F&192)===128&&(B&192)===128&&(A&192)===128&&(x=(f&15)<<18|(F&63)<<12|(B&63)<<6|A&63,x>65535&&x<1114112&&(c=x))}}c===null?(c=65533,w=1):c>65535&&(c-=65536,i.push(c>>>10&1023|55296),c=56320|c&1023),i.push(c),a+=w}return Vr(i)}const wr=4096;function Vr(t){const r=t.length;if(r<=wr)return String.fromCharCode.apply(String,t);let e="",i=0;for(;i<r;)e+=String.fromCharCode.apply(String,t.slice(i,i+=wr));return e}function Kr(t,r,e){let i="";e=Math.min(t.length,e);for(let a=r;a<e;++a)i+=String.fromCharCode(t[a]&127);return i}function Qr(t,r,e){let i="";e=Math.min(t.length,e);for(let a=r;a<e;++a)i+=String.fromCharCode(t[a]);return i}function Zr(t,r,e){const i=t.length;(!r||r<0)&&(r=0),(!e||e<0||e>i)&&(e=i);let a="";for(let f=r;f<e;++f)a+=ue[t[f]];return a}function re(t,r,e){const i=t.slice(r,e);let a="";for(let f=0;f<i.length-1;f+=2)a+=String.fromCharCode(i[f]+i[f+1]*256);return a}u.prototype.slice=function(r,e){const i=this.length;r=~~r,e=e===void 0?i:~~e,r<0?(r+=i,r<0&&(r=0)):r>i&&(r=i),e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),e<r&&(e=r);const a=this.subarray(r,e);return Object.setPrototypeOf(a,u.prototype),a};function R(t,r,e){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+r>e)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(r,e,i){r=r>>>0,e=e>>>0,i||R(r,e,this.length);let a=this[r],f=1,c=0;for(;++c<e&&(f*=256);)a+=this[r+c]*f;return a},u.prototype.readUintBE=u.prototype.readUIntBE=function(r,e,i){r=r>>>0,e=e>>>0,i||R(r,e,this.length);let a=this[r+--e],f=1;for(;e>0&&(f*=256);)a+=this[r+--e]*f;return a},u.prototype.readUint8=u.prototype.readUInt8=function(r,e){return r=r>>>0,e||R(r,1,this.length),this[r]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(r,e){return r=r>>>0,e||R(r,2,this.length),this[r]|this[r+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(r,e){return r=r>>>0,e||R(r,2,this.length),this[r]<<8|this[r+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(r,e){return r=r>>>0,e||R(r,4,this.length),(this[r]|this[r+1]<<8|this[r+2]<<16)+this[r+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(r,e){return r=r>>>0,e||R(r,4,this.length),this[r]*16777216+(this[r+1]<<16|this[r+2]<<8|this[r+3])},u.prototype.readBigUInt64LE=X(function(r){r=r>>>0,Y(r,"offset");const e=this[r],i=this[r+7];(e===void 0||i===void 0)&&K(r,this.length-8);const a=e+this[++r]*2**8+this[++r]*2**16+this[++r]*2**24,f=this[++r]+this[++r]*2**8+this[++r]*2**16+i*2**24;return BigInt(a)+(BigInt(f)<<BigInt(32))}),u.prototype.readBigUInt64BE=X(function(r){r=r>>>0,Y(r,"offset");const e=this[r],i=this[r+7];(e===void 0||i===void 0)&&K(r,this.length-8);const a=e*2**24+this[++r]*2**16+this[++r]*2**8+this[++r],f=this[++r]*2**24+this[++r]*2**16+this[++r]*2**8+i;return(BigInt(a)<<BigInt(32))+BigInt(f)}),u.prototype.readIntLE=function(r,e,i){r=r>>>0,e=e>>>0,i||R(r,e,this.length);let a=this[r],f=1,c=0;for(;++c<e&&(f*=256);)a+=this[r+c]*f;return f*=128,a>=f&&(a-=Math.pow(2,8*e)),a},u.prototype.readIntBE=function(r,e,i){r=r>>>0,e=e>>>0,i||R(r,e,this.length);let a=e,f=1,c=this[r+--a];for(;a>0&&(f*=256);)c+=this[r+--a]*f;return f*=128,c>=f&&(c-=Math.pow(2,8*e)),c},u.prototype.readInt8=function(r,e){return r=r>>>0,e||R(r,1,this.length),this[r]&128?(255-this[r]+1)*-1:this[r]},u.prototype.readInt16LE=function(r,e){r=r>>>0,e||R(r,2,this.length);const i=this[r]|this[r+1]<<8;return i&32768?i|4294901760:i},u.prototype.readInt16BE=function(r,e){r=r>>>0,e||R(r,2,this.length);const i=this[r+1]|this[r]<<8;return i&32768?i|4294901760:i},u.prototype.readInt32LE=function(r,e){return r=r>>>0,e||R(r,4,this.length),this[r]|this[r+1]<<8|this[r+2]<<16|this[r+3]<<24},u.prototype.readInt32BE=function(r,e){return r=r>>>0,e||R(r,4,this.length),this[r]<<24|this[r+1]<<16|this[r+2]<<8|this[r+3]},u.prototype.readBigInt64LE=X(function(r){r=r>>>0,Y(r,"offset");const e=this[r],i=this[r+7];(e===void 0||i===void 0)&&K(r,this.length-8);const a=this[r+4]+this[r+5]*2**8+this[r+6]*2**16+(i<<24);return(BigInt(a)<<BigInt(32))+BigInt(e+this[++r]*2**8+this[++r]*2**16+this[++r]*2**24)}),u.prototype.readBigInt64BE=X(function(r){r=r>>>0,Y(r,"offset");const e=this[r],i=this[r+7];(e===void 0||i===void 0)&&K(r,this.length-8);const a=(e<<24)+this[++r]*2**16+this[++r]*2**8+this[++r];return(BigInt(a)<<BigInt(32))+BigInt(this[++r]*2**24+this[++r]*2**16+this[++r]*2**8+i)}),u.prototype.readFloatLE=function(r,e){return r=r>>>0,e||R(r,4,this.length),s.read(this,r,!0,23,4)},u.prototype.readFloatBE=function(r,e){return r=r>>>0,e||R(r,4,this.length),s.read(this,r,!1,23,4)},u.prototype.readDoubleLE=function(r,e){return r=r>>>0,e||R(r,8,this.length),s.read(this,r,!0,52,8)},u.prototype.readDoubleBE=function(r,e){return r=r>>>0,e||R(r,8,this.length),s.read(this,r,!1,52,8)};function L(t,r,e,i,a,f){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(r>a||r<f)throw new RangeError('"value" argument is out of bounds');if(e+i>t.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(r,e,i,a){if(r=+r,e=e>>>0,i=i>>>0,!a){const w=Math.pow(2,8*i)-1;L(this,r,e,i,w,0)}let f=1,c=0;for(this[e]=r&255;++c<i&&(f*=256);)this[e+c]=r/f&255;return e+i},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(r,e,i,a){if(r=+r,e=e>>>0,i=i>>>0,!a){const w=Math.pow(2,8*i)-1;L(this,r,e,i,w,0)}let f=i-1,c=1;for(this[e+f]=r&255;--f>=0&&(c*=256);)this[e+f]=r/c&255;return e+i},u.prototype.writeUint8=u.prototype.writeUInt8=function(r,e,i){return r=+r,e=e>>>0,i||L(this,r,e,1,255,0),this[e]=r&255,e+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(r,e,i){return r=+r,e=e>>>0,i||L(this,r,e,2,65535,0),this[e]=r&255,this[e+1]=r>>>8,e+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(r,e,i){return r=+r,e=e>>>0,i||L(this,r,e,2,65535,0),this[e]=r>>>8,this[e+1]=r&255,e+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(r,e,i){return r=+r,e=e>>>0,i||L(this,r,e,4,4294967295,0),this[e+3]=r>>>24,this[e+2]=r>>>16,this[e+1]=r>>>8,this[e]=r&255,e+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(r,e,i){return r=+r,e=e>>>0,i||L(this,r,e,4,4294967295,0),this[e]=r>>>24,this[e+1]=r>>>16,this[e+2]=r>>>8,this[e+3]=r&255,e+4};function gr(t,r,e,i,a){Fr(r,i,a,t,e,7);let f=Number(r&BigInt(4294967295));t[e++]=f,f=f>>8,t[e++]=f,f=f>>8,t[e++]=f,f=f>>8,t[e++]=f;let c=Number(r>>BigInt(32)&BigInt(4294967295));return t[e++]=c,c=c>>8,t[e++]=c,c=c>>8,t[e++]=c,c=c>>8,t[e++]=c,e}function mr(t,r,e,i,a){Fr(r,i,a,t,e,7);let f=Number(r&BigInt(4294967295));t[e+7]=f,f=f>>8,t[e+6]=f,f=f>>8,t[e+5]=f,f=f>>8,t[e+4]=f;let c=Number(r>>BigInt(32)&BigInt(4294967295));return t[e+3]=c,c=c>>8,t[e+2]=c,c=c>>8,t[e+1]=c,c=c>>8,t[e]=c,e+8}u.prototype.writeBigUInt64LE=X(function(r,e=0){return gr(this,r,e,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=X(function(r,e=0){return mr(this,r,e,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(r,e,i,a){if(r=+r,e=e>>>0,!a){const F=Math.pow(2,8*i-1);L(this,r,e,i,F-1,-F)}let f=0,c=1,w=0;for(this[e]=r&255;++f<i&&(c*=256);)r<0&&w===0&&this[e+f-1]!==0&&(w=1),this[e+f]=(r/c>>0)-w&255;return e+i},u.prototype.writeIntBE=function(r,e,i,a){if(r=+r,e=e>>>0,!a){const F=Math.pow(2,8*i-1);L(this,r,e,i,F-1,-F)}let f=i-1,c=1,w=0;for(this[e+f]=r&255;--f>=0&&(c*=256);)r<0&&w===0&&this[e+f+1]!==0&&(w=1),this[e+f]=(r/c>>0)-w&255;return e+i},u.prototype.writeInt8=function(r,e,i){return r=+r,e=e>>>0,i||L(this,r,e,1,127,-128),r<0&&(r=255+r+1),this[e]=r&255,e+1},u.prototype.writeInt16LE=function(r,e,i){return r=+r,e=e>>>0,i||L(this,r,e,2,32767,-32768),this[e]=r&255,this[e+1]=r>>>8,e+2},u.prototype.writeInt16BE=function(r,e,i){return r=+r,e=e>>>0,i||L(this,r,e,2,32767,-32768),this[e]=r>>>8,this[e+1]=r&255,e+2},u.prototype.writeInt32LE=function(r,e,i){return r=+r,e=e>>>0,i||L(this,r,e,4,2147483647,-2147483648),this[e]=r&255,this[e+1]=r>>>8,this[e+2]=r>>>16,this[e+3]=r>>>24,e+4},u.prototype.writeInt32BE=function(r,e,i){return r=+r,e=e>>>0,i||L(this,r,e,4,2147483647,-2147483648),r<0&&(r=4294967295+r+1),this[e]=r>>>24,this[e+1]=r>>>16,this[e+2]=r>>>8,this[e+3]=r&255,e+4},u.prototype.writeBigInt64LE=X(function(r,e=0){return gr(this,r,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=X(function(r,e=0){return mr(this,r,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Er(t,r,e,i,a,f){if(e+i>t.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function xr(t,r,e,i,a){return r=+r,e=e>>>0,a||Er(t,r,e,4),s.write(t,r,e,i,23,4),e+4}u.prototype.writeFloatLE=function(r,e,i){return xr(this,r,e,!0,i)},u.prototype.writeFloatBE=function(r,e,i){return xr(this,r,e,!1,i)};function Br(t,r,e,i,a){return r=+r,e=e>>>0,a||Er(t,r,e,8),s.write(t,r,e,i,52,8),e+8}u.prototype.writeDoubleLE=function(r,e,i){return Br(this,r,e,!0,i)},u.prototype.writeDoubleBE=function(r,e,i){return Br(this,r,e,!1,i)},u.prototype.copy=function(r,e,i,a){if(!u.isBuffer(r))throw new TypeError("argument should be a Buffer");if(i||(i=0),!a&&a!==0&&(a=this.length),e>=r.length&&(e=r.length),e||(e=0),a>0&&a<i&&(a=i),a===i||r.length===0||this.length===0)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(a<0)throw new RangeError("sourceEnd out of bounds");a>this.length&&(a=this.length),r.length-e<a-i&&(a=r.length-e+i);const f=a-i;return this===r&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(e,i,a):Uint8Array.prototype.set.call(r,this.subarray(i,a),e),f},u.prototype.fill=function(r,e,i,a){if(typeof r=="string"){if(typeof e=="string"?(a=e,e=0,i=this.length):typeof i=="string"&&(a=i,i=this.length),a!==void 0&&typeof a!="string")throw new TypeError("encoding must be a string");if(typeof a=="string"&&!u.isEncoding(a))throw new TypeError("Unknown encoding: "+a);if(r.length===1){const c=r.charCodeAt(0);(a==="utf8"&&c<128||a==="latin1")&&(r=c)}}else typeof r=="number"?r=r&255:typeof r=="boolean"&&(r=Number(r));if(e<0||this.length<e||this.length<i)throw new RangeError("Out of range index");if(i<=e)return this;e=e>>>0,i=i===void 0?this.length:i>>>0,r||(r=0);let f;if(typeof r=="number")for(f=e;f<i;++f)this[f]=r;else{const c=u.isBuffer(r)?r:u.from(r,a),w=c.length;if(w===0)throw new TypeError('The value "'+r+'" is invalid for argument "value"');for(f=0;f<i-e;++f)this[f+e]=c[f%w]}return this};const W={};function nr(t,r,e){W[t]=class extends e{constructor(){super(),Object.defineProperty(this,"message",{value:r.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(a){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:a,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}nr("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),nr("ERR_INVALID_ARG_TYPE",function(t,r){return`The "${t}" argument must be of type number. Received type ${typeof r}`},TypeError),nr("ERR_OUT_OF_RANGE",function(t,r,e){let i=`The value of "${t}" is out of range.`,a=e;return Number.isInteger(e)&&Math.abs(e)>2**32?a=Ir(String(e)):typeof e=="bigint"&&(a=String(e),(e>BigInt(2)**BigInt(32)||e<-(BigInt(2)**BigInt(32)))&&(a=Ir(a)),a+="n"),i+=` It must be ${r}. Received ${a}`,i},RangeError);function Ir(t){let r="",e=t.length;const i=t[0]==="-"?1:0;for(;e>=i+4;e-=3)r=`_${t.slice(e-3,e)}${r}`;return`${t.slice(0,e)}${r}`}function ee(t,r,e){Y(r,"offset"),(t[r]===void 0||t[r+e]===void 0)&&K(r,t.length-(e+1))}function Fr(t,r,e,i,a,f){if(t>e||t<r){const c=typeof r=="bigint"?"n":"";let w;throw r===0||r===BigInt(0)?w=`>= 0${c} and < 2${c} ** ${(f+1)*8}${c}`:w=`>= -(2${c} ** ${(f+1)*8-1}${c}) and < 2 ** ${(f+1)*8-1}${c}`,new W.ERR_OUT_OF_RANGE("value",w,t)}ee(i,a,f)}function Y(t,r){if(typeof t!="number")throw new W.ERR_INVALID_ARG_TYPE(r,"number",t)}function K(t,r,e){throw Math.floor(t)!==t?(Y(t,e),new W.ERR_OUT_OF_RANGE("offset","an integer",t)):r<0?new W.ERR_BUFFER_OUT_OF_BOUNDS:new W.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${r}`,t)}const te=/[^+/0-9A-Za-z-_]/g;function ne(t){if(t=t.split("=")[0],t=t.trim().replace(te,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function ir(t,r){r=r||1/0;let e;const i=t.length;let a=null;const f=[];for(let c=0;c<i;++c){if(e=t.charCodeAt(c),e>55295&&e<57344){if(!a){if(e>56319){(r-=3)>-1&&f.push(239,191,189);continue}else if(c+1===i){(r-=3)>-1&&f.push(239,191,189);continue}a=e;continue}if(e<56320){(r-=3)>-1&&f.push(239,191,189),a=e;continue}e=(a-55296<<10|e-56320)+65536}else a&&(r-=3)>-1&&f.push(239,191,189);if(a=null,e<128){if((r-=1)<0)break;f.push(e)}else if(e<2048){if((r-=2)<0)break;f.push(e>>6|192,e&63|128)}else if(e<65536){if((r-=3)<0)break;f.push(e>>12|224,e>>6&63|128,e&63|128)}else if(e<1114112){if((r-=4)<0)break;f.push(e>>18|240,e>>12&63|128,e>>6&63|128,e&63|128)}else throw new Error("Invalid code point")}return f}function ie(t){const r=[];for(let e=0;e<t.length;++e)r.push(t.charCodeAt(e)&255);return r}function oe(t,r){let e,i,a;const f=[];for(let c=0;c<t.length&&!((r-=2)<0);++c)e=t.charCodeAt(c),i=e>>8,a=e%256,f.push(a),f.push(i);return f}function Ar(t){return o.toByteArray(ne(t))}function rr(t,r,e,i){let a;for(a=0;a<i&&!(a+e>=r.length||a>=t.length);++a)r[a+e]=t[a];return a}function _(t,r){return t instanceof r||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===r.name}function or(t){return t!==t}const ue=function(){const t="0123456789abcdef",r=new Array(256);for(let e=0;e<16;++e){const i=e*16;for(let a=0;a<16;++a)r[i+a]=t[e]+t[a]}return r}();function X(t){return typeof BigInt>"u"?ae:t}function ae(){throw new Error("BigInt not supported")}})(Nr);var Or={exports:{}},T=Or.exports={},O,k;function fr(){throw new Error("setTimeout has not been defined")}function cr(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?O=setTimeout:O=fr}catch{O=fr}try{typeof clearTimeout=="function"?k=clearTimeout:k=cr}catch{k=cr}})();function kr(n){if(O===setTimeout)return setTimeout(n,0);if((O===fr||!O)&&setTimeout)return O=setTimeout,setTimeout(n,0);try{return O(n,0)}catch{try{return O.call(null,n,0)}catch{return O.call(this,n,0)}}}function Ee(n){if(k===clearTimeout)return clearTimeout(n);if((k===cr||!k)&&clearTimeout)return k=clearTimeout,clearTimeout(n);try{return k(n)}catch{try{return k.call(null,n)}catch{return k.call(this,n)}}}var $=[],z=!1,q,er=-1;function xe(){!z||!q||(z=!1,q.length?$=q.concat($):er=-1,$.length&&br())}function br(){if(!z){var n=kr(xe);z=!0;for(var o=$.length;o;){for(q=$,$=[];++er<o;)q&&q[er].run();er=-1,o=$.length}q=null,z=!1,Ee(n)}}T.nextTick=function(n){var o=new Array(arguments.length-1);if(arguments.length>1)for(var s=1;s<arguments.length;s++)o[s-1]=arguments[s];$.push(new Pr(n,o)),$.length===1&&!z&&kr(br)};function Pr(n,o){this.fun=n,this.array=o}Pr.prototype.run=function(){this.fun.apply(null,this.array)};T.title="browser";T.browser=!0;T.env={};T.argv=[];T.version="";T.versions={};function H(){}T.on=H;T.addListener=H;T.once=H;T.off=H;T.removeListener=H;T.removeAllListeners=H;T.emit=H;T.prependListener=H;T.prependOnceListener=H;T.listeners=function(n){return[]};T.binding=function(n){throw new Error("process.binding is not supported")};T.cwd=function(){return"/"};T.chdir=function(n){throw new Error("process.chdir is not supported")};T.umask=function(){return 0};var Be=Or.exports;(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const o=Nr,s=Be,p=l=>l&&l.__esModule?l:{default:l},d=p(s),h=globalThis||void 0||self;Object.defineProperty(n,"Buffer",{enumerable:!0,get:()=>o.Buffer}),Object.defineProperty(n,"process",{enumerable:!0,get:()=>d.default}),n.global=h})(Z);var lr={exports:{}},Q;typeof window<"u"?Q=window:typeof Ur<"u"?Q=Ur:typeof self<"u"?Q=self:Q={};var Ie=Q,Fe=Ue,Ae=Object.prototype.toString;function Ue(n){if(!n)return!1;var o=Ae.call(n);return o==="[object Function]"||typeof n=="function"&&o!=="[object RegExp]"||typeof window<"u"&&(n===window.setTimeout||n===window.alert||n===window.confirm||n===window.prompt)}var ar=function(n){return n.replace(/^\s+|\s+$/g,"")},Te=function(n){return Object.prototype.toString.call(n)==="[object Array]"},Re=function(n){if(!n)return{};for(var o={},s=ar(n).split(`
`),p=0;p<s.length;p++){var d=s[p],h=d.indexOf(":"),l=ar(d.slice(0,h)).toLowerCase(),u=ar(d.slice(h+1));typeof o[l]>"u"?o[l]=u:Te(o[l])?o[l].push(u):o[l]=[o[l],u]}return o},$r=Ie,ve=Fe,Le=Re,Ce=Sr;lr.exports=D;lr.exports.default=D;D.XMLHttpRequest=$r.XMLHttpRequest||_e;D.XDomainRequest="withCredentials"in new D.XMLHttpRequest?D.XMLHttpRequest:$r.XDomainRequest;Me(["get","put","post","patch","head","delete"],function(n){D[n==="delete"?"del":n]=function(o,s,p){return s=Dr(o,s,p),s.method=n.toUpperCase(),Hr(s)}});function Me(n,o){for(var s=0;s<n.length;s++)o(n[s])}function Se(n){for(var o in n)if(n.hasOwnProperty(o))return!1;return!0}function Dr(n,o,s){var p=n;return ve(o)?(s=o,typeof n=="string"&&(p={uri:n})):p=Ce(o,{uri:n}),p.callback=s,p}function D(n,o,s){return o=Dr(n,o,s),Hr(o)}function Hr(n){if(typeof n.callback>"u")throw new Error("callback argument missing");var o=!1,s=function(N,G,P){o||(o=!0,n.callback(N,G,P))};function p(){u.readyState===4&&setTimeout(l,0)}function d(){var I=void 0;if(u.response?I=u.response:I=u.responseText||Ne(u),S)try{I=JSON.parse(I)}catch{}return I}function h(I){return clearTimeout(V),I instanceof Error||(I=new Error(""+(I||"Unknown XMLHttpRequest Error"))),I.statusCode=0,s(I,j)}function l(){if(!U){var I;clearTimeout(V),n.useXDR&&u.status===void 0?I=200:I=u.status===1223?204:u.status;var N=j,G=null;return I!==0?(N={body:d(),statusCode:I,method:m,headers:{},url:g,rawRequest:u},u.getAllResponseHeaders&&(N.headers=Le(u.getAllResponseHeaders()))):G=new Error("Internal XMLHttpRequest Error"),s(G,N,N.body)}}var u=n.xhr||null;u||(n.cors||n.useXDR?u=new D.XDomainRequest:u=new D.XMLHttpRequest);var y,U,g=u.url=n.uri||n.url,m=u.method=n.method||"GET",v=n.body||n.data,E=u.headers=n.headers||{},C=!!n.sync,S=!1,V,j={body:void 0,headers:{},statusCode:0,method:m,url:g,rawRequest:u};if("json"in n&&n.json!==!1&&(S=!0,E.accept||E.Accept||(E.Accept="application/json"),m!=="GET"&&m!=="HEAD"&&(E["content-type"]||E["Content-Type"]||(E["Content-Type"]="application/json"),v=JSON.stringify(n.json===!0?v:n.json))),u.onreadystatechange=p,u.onload=l,u.onerror=h,u.onprogress=function(){},u.onabort=function(){U=!0},u.ontimeout=h,u.open(m,g,!C,n.username,n.password),C||(u.withCredentials=!!n.withCredentials),!C&&n.timeout>0&&(V=setTimeout(function(){if(!U){U=!0,u.abort("timeout");var I=new Error("XMLHttpRequest timeout");I.code="ETIMEDOUT",h(I)}},n.timeout)),u.setRequestHeader)for(y in E)E.hasOwnProperty(y)&&u.setRequestHeader(y,E[y]);else if(n.headers&&!Se(n.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in n&&(u.responseType=n.responseType),"beforeSend"in n&&typeof n.beforeSend=="function"&&n.beforeSend(u),u.send(v||null),u}function Ne(n){try{if(n.responseType==="document")return n.responseXML;var o=n.responseXML&&n.responseXML.documentElement.nodeName==="parsererror";if(n.responseType===""&&!o)return n.responseXML}catch{}return null}function _e(){}var Oe=lr.exports,ke=function(o){if(!o)throw new Error("no data provided");o=o.toString().trim();var s={pages:[],chars:[],kernings:[]},p=o.split(/\r\n?|\n/g);if(p.length===0)throw new Error("no data in BMFont file");for(var d=0;d<p.length;d++){var h=be(p[d],d);if(h)if(h.key==="page"){if(typeof h.data.id!="number")throw new Error("malformed file at line "+d+" -- needs page id=N");if(typeof h.data.file!="string")throw new Error("malformed file at line "+d+' -- needs page file="path"');s.pages[h.data.id]=h.data.file}else h.key==="chars"||h.key==="kernings"||(h.key==="char"?s.chars.push(h.data):h.key==="kerning"?s.kernings.push(h.data):s[h.key]=h.data)}return s};function be(n,o){if(n=n.replace(/\t+/g," ").trim(),!n)return null;var s=n.indexOf(" ");if(s===-1)throw new Error("no named row at line "+o);var p=n.substring(0,s);n=n.substring(s+1),n=n.replace(/letter=[\'\"]\S+[\'\"]/gi,""),n=n.split("="),n=n.map(function(y){return y.trim().match(/(".*?"|[^"\s]+)+(?=\s*|\s*$)/g)});for(var d=[],h=0;h<n.length;h++){var l=n[h];h===0?d.push({key:l[0],data:""}):h===n.length-1?d[d.length-1].data=Tr(l[0]):(d[d.length-1].data=Tr(l[0]),d.push({key:l[1],data:""}))}var u={key:p,data:{}};return d.forEach(function(y){u.data[y.key]=y.data}),u}function Tr(n){return!n||n.length===0?"":n.indexOf('"')===0||n.indexOf("'")===0?n.substring(1,n.length-1):n.indexOf(",")!==-1?Pe(n):parseInt(n,10)}function Pe(n){return n.split(",").map(function(o){return parseInt(o,10)})}var sr="chasrset",$e=function(o){o=Object.assign({},o),sr in o&&(o.charset=o[sr],delete o[sr]);for(var s in o)s==="face"||s==="charset"||(s==="padding"||s==="spacing"?o[s]=De(o[s]):o[s]=parseInt(o[s],10));return o};function De(n){return n.split(",").map(function(o){return parseInt(o,10)})}var He=function(){return typeof self.DOMParser<"u"?function(o){var s=new self.DOMParser;return s.parseFromString(o,"application/xml")}:typeof self.ActiveXObject<"u"&&new self.ActiveXObject("Microsoft.XMLDOM")?function(o){var s=new self.ActiveXObject("Microsoft.XMLDOM");return s.async="false",s.loadXML(o),s}:function(o){var s=document.createElement("div");return s.innerHTML=o,s}}(),Rr=$e,Xe=He,qe={scaleh:"scaleH",scalew:"scaleW",stretchh:"stretchH",lineheight:"lineHeight",alphachnl:"alphaChnl",redchnl:"redChnl",greenchnl:"greenChnl",bluechnl:"blueChnl"},je=function(o){o=o.toString();var s=Xe(o),p={pages:[],chars:[],kernings:[]};["info","common"].forEach(function(g){var m=s.getElementsByTagName(g)[0];m&&(p[g]=Rr(vr(m)))});var d=s.getElementsByTagName("pages")[0];if(!d)throw new Error("malformed file -- no <pages> element");for(var h=d.getElementsByTagName("page"),l=0;l<h.length;l++){var u=h[l],y=parseInt(u.getAttribute("id"),10),U=u.getAttribute("file");if(isNaN(y))throw new Error('malformed file -- page "id" attribute is NaN');if(!U)throw new Error('malformed file -- needs page "file" attribute');p.pages[parseInt(y,10)]=U}return["chars","kernings"].forEach(function(g){var m=s.getElementsByTagName(g)[0];if(m)for(var v=g.substring(0,g.length-1),E=m.getElementsByTagName(v),C=0;C<E.length;C++){var S=E[C];p[g].push(Rr(vr(S)))}}),p};function vr(n){var o=Ge(n);return o.reduce(function(s,p){var d=We(p.nodeName);return s[d]=p.nodeValue,s},{})}function Ge(n){for(var o=[],s=0;s<n.attributes.length;s++)o.push(n.attributes[s]);return o}function We(n){return qe[n.toLowerCase()]||n}var Ye=[66,77,70],Je=function(o){if(o.length<6)throw new Error("invalid buffer length for BMFont");var s=Ye.every(function(u,y){return o.readUInt8(y)===u});if(!s)throw new Error("BMFont missing BMF byte header");var p=3,d=o.readUInt8(p++);if(d>3)throw new Error("Only supports BMFont Binary v3 (BMFont App v1.10)");for(var h={kernings:[],chars:[]},l=0;l<5;l++)p+=ze(h,o,p);return h};function ze(n,o,s){if(s>o.length-1)return 0;var p=o.readUInt8(s++),d=o.readInt32LE(s);switch(s+=4,p){case 1:n.info=Ve(o,s);break;case 2:n.common=Ke(o,s);break;case 3:n.pages=Qe(o,s,d);break;case 4:n.chars=Ze(o,s,d);break;case 5:n.kernings=rt(o,s,d);break}return 5+d}function Ve(n,o){var s={};s.size=n.readInt16LE(o);var p=n.readUInt8(o+2);return s.smooth=p>>7&1,s.unicode=p>>6&1,s.italic=p>>5&1,s.bold=p>>4&1,p>>3&1&&(s.fixedHeight=1),s.charset=n.readUInt8(o+3)||"",s.stretchH=n.readUInt16LE(o+4),s.aa=n.readUInt8(o+6),s.padding=[n.readInt8(o+7),n.readInt8(o+8),n.readInt8(o+9),n.readInt8(o+10)],s.spacing=[n.readInt8(o+11),n.readInt8(o+12)],s.outline=n.readUInt8(o+13),s.face=et(n,o+14),s}function Ke(n,o){var s={};return s.lineHeight=n.readUInt16LE(o),s.base=n.readUInt16LE(o+2),s.scaleW=n.readUInt16LE(o+4),s.scaleH=n.readUInt16LE(o+6),s.pages=n.readUInt16LE(o+8),n.readUInt8(o+10),s.packed=0,s.alphaChnl=n.readUInt8(o+11),s.redChnl=n.readUInt8(o+12),s.greenChnl=n.readUInt8(o+13),s.blueChnl=n.readUInt8(o+14),s}function Qe(n,o,s){for(var p=[],d=Xr(n,o),h=d.length+1,l=s/h,u=0;u<l;u++)p[u]=n.slice(o,o+d.length).toString("utf8"),o+=h;return p}function Ze(n,o,s){for(var p=[],d=s/20,h=0;h<d;h++){var l={},u=h*20;l.id=n.readUInt32LE(o+0+u),l.x=n.readUInt16LE(o+4+u),l.y=n.readUInt16LE(o+6+u),l.width=n.readUInt16LE(o+8+u),l.height=n.readUInt16LE(o+10+u),l.xoffset=n.readInt16LE(o+12+u),l.yoffset=n.readInt16LE(o+14+u),l.xadvance=n.readInt16LE(o+16+u),l.page=n.readUInt8(o+18+u),l.chnl=n.readUInt8(o+19+u),p[h]=l}return p}function rt(n,o,s){for(var p=[],d=s/10,h=0;h<d;h++){var l={},u=h*10;l.first=n.readUInt32LE(o+0+u),l.second=n.readUInt32LE(o+4+u),l.amount=n.readInt16LE(o+8+u),p[h]=l}return p}function Xr(n,o){for(var s=o;s<n.length&&n[s]!==0;s++);return n.slice(o,s)}function et(n,o){return Xr(n,o).toString("utf8")}var Lr=se.Buffer,tt=function(n,o){if(Lr.isBuffer(n)&&Lr.isBuffer(o)){if(typeof n.equals=="function")return n.equals(o);if(n.length!==o.length)return!1;for(var s=0;s<n.length;s++)if(n[s]!==o[s])return!1;return!0}},nt=tt,it=Z.Buffer.from([66,77,70,3]),ot=function(n){return typeof n=="string"?n.substring(0,3)==="BMF":n.length>4&&nt(n.slice(0,4),it)},ut=Oe,Cr=function(){},at=ke,st=je,ft=Je,ct=ot,Mr=Sr,ht=function(){return self.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}(),qr=function(n,o){o=typeof o=="function"?o:Cr,typeof n=="string"?n={uri:n}:n||(n={});var s=n.binary;s&&(n=pt(n)),ut(n,function(p,d,h){if(p)return o(p);if(!/^2/.test(d.statusCode))return o(new Error("http status code: "+d.statusCode));if(!h)return o(new Error("no body result"));var l=!1;if(lt(h)){var u=new Uint8Array(h);h=Z.Buffer.from(u,"binary")}ct(h)&&(l=!0,typeof h=="string"&&(h=Z.Buffer.from(h,"binary"))),l||(Z.Buffer.isBuffer(h)&&(h=h.toString(n.encoding)),h=h.trim());var y;try{var U=d.headers["content-type"];l?y=ft(h):/json/.test(U)||h.charAt(0)==="{"?y=JSON.parse(h):/xml/.test(U)||h.charAt(0)==="<"?y=st(h):y=at(h)}catch(g){o(new Error("error parsing font "+g.message)),o=Cr}o(null,y)})};function lt(n){var o=Object.prototype.toString;return o.call(n)==="[object ArrayBuffer]"}function pt(n){if(ht)return Mr(n,{responseType:"arraybuffer"});if(typeof self.XMLHttpRequest>"u")throw new Error("your browser does not support XHR loading");var o=new self.XMLHttpRequest;return o.overrideMimeType("text/plain; charset=x-user-defined"),Mr({xhr:o},n)}const dt=fe(qr),gt=ce({__proto__:null,default:dt},[qr]);export{gt as b};
